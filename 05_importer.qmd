# Importer des donnÃ©es

## Le jeu de donnÃ©es

<br>

![](img/r_intro_12a.png){fig-align="center"}

[PLOS One](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0090081)

## Le jeu de donnÃ©es

<br>

![](img/r_intro_12b.png){fig-align="center"}

[PLOS One](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0090081)

## ğŸ«µTÃ©lÃ©charger les donnÃ©es

<br>

-   [TÃ©lÃ©charger le jeu de donnÃ©es](https://raw.githubusercontent.com/allisonhorst/palmerpenguins/refs/heads/main/inst/extdata/penguins.csv)

-   Sauvegarder le fichier dans le dossier appropriÃ©

ğŸ’¡Depuis la version 4.5.0, ce jeu de donnÃ©es est inclus dans R (avec des diffÃ©rences dans les noms de certaines variables)

## âœ…TÃ©lÃ©charger les donnÃ©es

<br>

![](img/r_intro_12c.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12d.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12e.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12f.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12g.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12h.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12i.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12j.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12k.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12l.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12m.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12n.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12o.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12p.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12q.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12r.png){fig-align="center"}

## ğŸ«µImporter les donnÃ©es

<br>

![](img/r_intro_12s.png){fig-align="center"}

## âœ…Importer les donnÃ©es

<br>

![](img/r_intro_12t.png){fig-align="center"}

## âœ…Importer les donnÃ©es

<br>

![](img/r_intro_12u.png){fig-align="center"}

## â“`csv` et `csv2`

<br>

Il existe deux variantes du format `csv` (*comma-separated values) :*

| Variante | SÃ©parateur de colonnes | SÃ©parateur dÃ©cimal | Commande      |
|----------|------------------------|--------------------|---------------|
| `.csv`   | `,`                    | `.`                | `read.csv()`  |
| `.csv2`  | `;`                    | `,`                | `read.csv2()` |

## â“Fonctions

<br>

Toutes les opÃ©rations effectuÃ©es jusqu'ici ont fait appel Ã  des fonctions :

-   `+`

-   `plot()`

-   `read.csv()`

-   `View()`

## â“Fonction

<br>

![](img/r_intro_13a.png){fig-align="center"}

## ğŸ«µFonction `read.csv()`

<br>

-   En utilisant l'onglet `History`, retrouver la commande `penguins <- read.csv(...)`

-   Envoyer cette commande vers la console Ã  l'aide de `To Console`

-   Supprimer le dÃ©but de la commande pour ne conserver que `read.csv(...)`

-   ExÃ©cuter la commande Ã  l'aide de la touche `EntrÃ©e`

**Que se passe-t-il ?**

## âœ…Fonction `read.csv()`

<br>

![](img/r_intro_13b.png){fig-align="center"}

## ğŸ«µ`penguins <- read.csv("...")`

<br>

-   En utilisant l'onglet `History`, retrouver la commande `penguins <- read.csv(...)`

-   Envoyer cette commande vers la console Ã  l'aide de `To Console`

-   ExÃ©cuter la commande Ã  l'aide de la touche `EntrÃ©e`

**Qu'est-ce qui diffÃ¨re de la commande prÃ©cÃ©dente `read.csv("...")` ?**

## â“Assignation

<br>

![](img/r_intro_13c.png){fig-align="center"}

## â“Language orientÃ© objet

<br>

R est un langage orientÃ© objet : tout ce que l'on manipule (valeurs numÃ©riques, tableaux, ...) est un **objet**.

En informatique, un objet est une entitÃ© qui regroupe :

-   des **attributs** (information)

-   des **mÃ©thodes** liÃ©Ã©es au type de l'objet

## â“Language orientÃ© objet

<br>

La fonction `c()` permet de concatÃ©ner des Ã©lÃ©ments.

Une chaÃ®ne de caractÃ¨res est encadrÃ©e par des guillemets (*quotes*) : `"..."`

```{r}
liste_de_courses <- c("pomme", "banane", "kiwi")
```

L'objet `liste_de_courses` est de type *character* :

```{r}
typeof(liste_de_courses)
```

L'objet `liste_de_courses` possÃ¨de des attributs :

```{r}
liste_de_courses
```

## â“Language orientÃ© objet

<br>

Les mÃ©thodes sont des opÃ©rations applicables aux objets.

La fonction `print()` permet d'afficher le contenu d'un objet :

```{r}
print(liste_de_courses)
```

Multiplier une chaÃ®ne de caractÃ¨res n'a aucun sens :

```{r}
#| error: true
liste_de_courses * 2
```

## â“Environnement global

<br>

-   Espace de travail dans lequel sont stockÃ©s tous les objets

-   Existe tant qu'une session R est ouverte

-   La commande `ls()` (*list*) permet d'afficher tous les objets prÃ©sents dans l'environnement global

![](img/r_intro_13d.png){fig-align="center"}

## ğŸ«µObjets et environnement

<br>

-   CrÃ©er l'objet `nombres` contenant les valeurs 1, 2 et 3

-   Afficher la liste des objets prÃ©sents dans l'environnement global

**Dans quel ordre les objets sont-ils affichÃ©s ?**

## âœ…Objets et environnement

<br>

![](img/r_intro_13e.png){fig-align="center"}

## ğŸ«µComplÃ©ter le script - importer les donnÃ©es

<br>

-   En utilisant l'onglet `History`, retrouver la commande `penguins <- read.csv("...")`

-   Envoyer cette commande vers le script Ã  l'aide de `To Source`

ou

-   Dans la console, naviguer dans l'historique des commandes Ã  l'aide des touches â¬†ï¸ et â¬‡ï¸

-   Retrouver la commande `penguins <- read.csv("...")`

-   Copier cette commande (`Ctrl` + `C`) et la coller dans le script (`Ctrl` + `V`)

## âœ…ComplÃ©ter le script - importer les donnÃ©es

<br>

![](img/r_intro_13f.png){fig-align="center"}

## âœ…ComplÃ©ter le script - importer les donnÃ©es

<br>

![](img/r_intro_13g.png){fig-align="center"}

## ğŸ«µStructurer un script

<br>

-   Sous l'en-tÃªte du script (au-dessus de la commande `penguins <- read.csv("...")`, ajouter un commentaire : `# Importer les donnÃ©es`

-   Ajouter Ã  la fin de ce commentaire au moins quatre tirets : `----`

**Le commentaire ajoutÃ© devient un titre de section.**

## âœ…Structurer un script

<br>

![](img/r_intro_13h.png){fig-align="center"}

## ğŸ«µTable des matiÃ¨res

<br>

![](img/r_intro_13i.png){fig-align="center"}

## â“Niveaux de titres

<br>

Il est possible de dÃ©finir des titres de diffÃ©rents niveaux (jusqu'Ã  6), ajoutant des `#` :

![](img/r_intro_13j.png){fig-align="center"}

::: {.callout-tip icon="false"}
#### âŒ¨ï¸InsÃ©rer une nouvelle section

`Ctrl` + `Shift` + `R`

Les niveaux doivent Ãªtre ajoutÃ©s manuellement
:::

## â“Se repÃ©rer dans un script

<br>

![](img/r_intro_13k.png){fig-align="center"}

## ğŸ«µReplier / dÃ©velopper le code

<br>

-   Replier le code de la section `Importer les donnÃ©es` en cliquant sur la flÃ¨che Ã  gauche du titre de la section

-   DÃ©velopper le code de la section en cliquant Ã  nouveau sur la flÃ¨che Ã  gauche du titre (ou en cliquant sur â†”ï¸ Ã  droite du titre de la section)

::: {.callout-tip icon="false"}
#### âŒ¨ï¸Replier / dÃ©velopper toutes les sections

`Alt` + `O` (replier) et `Alt`+ `Shift` + `O` (dÃ©velopper)
:::

## âœ…Replier / dÃ©velopper le code

<br>

![](img/r_intro_13l.png){fig-align="center"}

## â“Chemin absolu vs. chemin relatif

<br>

Le chemin indique l'emplacement d'un fichier ou d'un dossier dans un systÃ¨me de fichiers.

-   Chemin **absolu** : depuis la racine du systÃ¨me de fichiers

-   Chemin **relatif** : depuis la racine du rÃ©pertoire de travail (le projet dans notre cas)

![](img/r_intro_13m.png){fig-align="center"}

## ğŸ«µModifier le script - chemin relatif

<br>

Dans l'appel Ã  la fonction `read.csv()`, remplacer le chemin absolu (utilisÃ© par dÃ©faut lors de l'importation du fichier telle que nous l'avons effectuÃ©e) par le chemin relatif.

![](img/r_intro_13n.png){fig-align="center"}

::: {.callout-important appearance="simple"}
#### Pensez Ã  sauvegarder rÃ©guliÃ¨rement votre script !
:::

## â“Auto-complÃ©tion

<br>

R permet de complÃ©ter le code en cours d'Ã©criture :

-   taper quelques caractÃ¨res

-   appuyer sur la touche `Tab` (se fait automatiquement Ã  partir de trois caractÃ¨res)

-   naviguer dans la liste proposÃ©e Ã  l'aide des flÃ¨ches â¬†ï¸ et â¬‡ï¸

-   valider son choix Ã  l'aide de la touche `Tab` (ou `EntrÃ©e`)

## ğŸ«µAuto-complÃ©tion - fonction

<br>

-   Sur la ligne `penguins <- read.csv("...")`, supprimer la commande `read.csv("...")`

-   Taper `re` et appuyer sur la touche `Tab`

-   Chercher la fonction `read.csv()` et valider en appuyant sur la touche `Tab` (ou `EntrÃ©e`)

-   Supprimer la commande `read.csv()`

-   Taper `rea`

**Que remarquez-vous ?**

## âœ…Auto-complÃ©tion - fonction

<br>

![](img/r_intro_13o.png){fig-align="center"}

## ğŸ«µAuto-complÃ©tion - chemin

<br>

-   Dans l'appel Ã  la fonction `read.csv()`, Ã  l'intÃ©rieur des parenthÃ¨ses, ajouter un guillemet double `"` (le deuxiÃ¨me guillemet est ajoutÃ© automatiquement pour complÃ©ter la paire)

-   Appuyer sur la touche `Tab` et choisir le fichier Ã  importer

-   Valider Ã  l'aide de la touche `Tab` (ou `EntrÃ©e`, mais cela nÃ©cessite d'appuyer Ã  nouveau sur `Tab` pour complÃ©ter le chemin si l'on navigue dans les dossiers)

## ğŸ«µExÃ©cuter le code

<br>

-   Placer le curseur sur la ligne de code `penguins <- read.csv("...")`

-   Cliquer sur l'icÃ´ne `Run` en haut Ã  droite du script

-   SÃ©lectionner l'ensemble du script

-   Cliquer sur l'icÃ´ne `Run`

**Que remarquez-vous dans la console ?**

::: {.callout-tip icon="false"}
#### âŒ¨ï¸ExÃ©cuter le code

-   Pour une ligne ou une sÃ©lection de lignes : `Ctrl` + `EntrÃ©e`

-   Pour exÃ©cuter tout le script : `Ctrl` + `Shift` + `EntrÃ©e` (exÃ©cute la fonction `source()` dans la console)
:::

## âœ…ExÃ©cuter le code

<br>

![](img/r_intro_13q.png){fig-align="center"}

## âœ…Auto-complÃ©tion - chemin

<br>

![](img/r_intro_13p.png){fig-align="center"}

## ğŸ«µAuto-complÃ©tion - environnement global

<br>

-   Sur une nouvelle ligne : taper `pen` (ou `pe` + `Tab`)

-   Choisir l'objet `penguins` et valider Ã  l'aide de la touche `Tab` (ou `EntrÃ©e`)

## âœ…Auto-complÃ©tion - environnement global

<br>

![](img/r_intro_13r.png){fig-align="center"}
