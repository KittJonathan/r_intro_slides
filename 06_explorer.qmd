# Explorer les donnÃ©es

## ğŸ«µComplÃ©ter le script

<br>

CrÃ©er une nouvelle section intitulÃ©e "Explorer les donnÃ©es"

## âœ…ComplÃ©ter le script

<br>

![](img/r_intro_14a.png){fig-align="center"}

## ğŸ«µStructure des donnÃ©es

<br>

-   Dans l'environnement global, repasser en mode "List"

-   Cliquer sur la flÃ¨che Ã  gauche de l'objet `penguins`

-   Cliquer sur l'icÃ´ne "tableau" Ã  droite sur la ligne de l'objet `penguins` dans l'environnement global

-   La fonction `str()` permet d'afficher la *structure* d'un objet. Dans la console, taper la commande `str(penguins)`

## âœ…Structure des donnÃ©es

<br>

![](img/r_intro_14b.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14c.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14d.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14e.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14f.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14g.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14h.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14i.png){fig-align="center"}

## â“La fonction `str()`

<br>

![](img/r_intro_14j.png){fig-align="center"}

## ğŸ«µExplorer les donnÃ©es

<br>

Dans la console, taper les commandes suivantes.

-   `dim(penguins)`

-   `nrow(penguins)`

-   `ncol(penguins)`

-   `names(penguins)` et `colnames(penguins)`

**Que renvoie chacune des commandes ?**

## âœ…Explorer les donnÃ©es

<br>

```{r, include=FALSE}
penguins <- read.csv("penguins.csv")
```

```{r}
# Dimensions du tableau (nb lignes, nb colonnes)
dim(penguins)
```

```{r}
# Nombre de lignes du tableau (observations)
nrow(penguins)
```

```{r}
# Nombre de colonnes du tableau (variables)
ncol(penguins)
```

```{r}
# Noms des variables du tableau
colnames(penguins)  # ou names(penguins)
```

## ğŸ«µAfficher le contenu d'une variable

<br>

Dans la console, taper la commande `penguins$year` (penser Ã  l'auto-complÃ©tion).

**Que reprÃ©sentent les nombres entre crochets au dÃ©but de chaque ligne ?**

## âœ…Afficher le contenu d'une variable

<br>

![](img/r_intro_14k.png){fig-align="center"}

::: {.callout-tip appearance="simple"}
Les nombres entre crochets sont les index des valeurs affichÃ©es (la 2^Ã¨me^ ligne dÃ©bute avec la 16^Ã¨me^ valeur de la variable `year`)
:::

## ğŸ«µAfficher les premiers et les derniers Ã©lÃ©ments

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `head(penguins)` et `head(penguins$year)`

-   `tail(penguins)` et `tail(penguins$year)`

**Quelle est la diffÃ©rence entre ces deux fonctions ?**

**Quelle est la diffÃ©rence entre l'utilisation de ces fonctions pour un tableau ou une variable ?**

**Combien d'Ã©lÃ©ments sont affichÃ©s ?**

## âœ…Afficher les premiers et les derniers Ã©lÃ©ments

<br>

![](img/r_intro_14l.png){fig-align="center"}

## â“Aide d'une fonction

La fonction `help()` permet d'afficher l'aide d'une fonction. Elle s'utilise de la maniÃ¨re suivante : `help(head)` ou `?head`.

L'aide d'une fonction est Ã©galement accessible en tapant les premiÃ¨res lettres du nom de la fonction et en appuyant sur la touche `Tab` puis la touche `F1`.

![](img/r_intro_14m.png){fig-align="center"}

## â“Aide d'une fonction

<br>

-   **Description** : ce que fait la fonction

-   **Usage** : comment utiliser la fonction

-   **Arguments** : diffÃ©rentes maniÃ¨res d'utiliser la fonction

-   **Details** : description dÃ©taillÃ©e de la fonction

-   **Value** : ce que renvoie la fonction

-   **Note** : prÃ©cisions

-   **Author(s)** : liste des personnes qui ont contribuÃ© Ã  l'Ã©criture du code et aux Ã©ventuelles modifications et corrections

-   **Examples** : exemples d'utilisation de la fonction (exemples exÃ©cutables directement dans RStudio)

## ğŸ«µAide d'une fonction

<br>

Parcourir rapidement l'aide de la fonction `head()`.

**Comment faire pour afficher les trois premiÃ¨re lignes du tableau `penguins` ?**

## âœ…Aide d'une fonction

<br>

![](img/r_intro_14n.png){fig-align="center"}

## âœ…Aide d'une fonction

<br>

![](img/r_intro_14o.png){fig-align="center"}

## ğŸ«µLes fonctions `attach()` et `detach()`

<br>

La fonction `attach()` permet de faire rÃ©fÃ©rence aux variables en utilisant leurs noms, sans avoir besoin d'utiliser la syntaxe `data.frame$variable`.

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `attach(penguins)`

-   `head(year)`

-   `detach(year)`

-   `head(year)`

## âœ…Les fonctions `attach()` et `detach()`

<br>

![](img/r_intro_14p.png){fig-align="center"}

## ğŸ«µLa fonction `search()`

<br>

La fonction `search()` permet de lister les objets "attachÃ©s".

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `search()`

-   `attach(penguins)`

-   `search()`

-   `detach(penguins)`

-   `search()`

**Que remarquez-vous ?**

## âœ…La fonction `search()`

<br>

![](img/r_intro_14q.png){fig-align="center"}

## ğŸ«µLa fonction `summary()`

<br>

Dans la console, taper et exÃ©cuter la commande suivante : `summary(penguins)`

**Que retourne cette commande ?**

**Quelles diffÃ©rences remarquez-vous dans le rÃ©sultat ?**

## âœ…La fonction `summary()`

<br>

![](img/r_intro_14r.png){fig-align="center"}

## âœ…La fonction `summary()`

<br>

![](img/r_intro_14s.png){fig-align="center"}

## âœ…La fonction `summary()`

<br>

![](img/r_intro_14t.png){fig-align="center"}

## ğŸ«µLa fonction `summary()`

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `summary(penguins$species)`

-   `summary(penguins$body_mass_g)`

**Que renvoient ces deux commandes ?**

## âœ…La fonction `summary()`

<br>

![](img/r_intro_14u.png){fig-align="center"}

## ğŸ«µExtraire les valeurs extrÃªmes

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `min(penguins$body_mass_g)`

-   `max(penguins$body_mass_g)`

**Comparer les rÃ©sultats avec ceux obtenus Ã  l'aide de la commande `summary(penguins$body_mass_g)`**.

**Parcourir l'aide de la fonction `min()` et modifier les commandes ci-dessus pour tenir compte des donnÃ©es manquantes.**

## âœ…Extraire les valeurs extrÃªmes

<br>

![](img/r_intro_15a.png){fig-align="center"}

```{r}
# Autre possibilitÃ© :
range(penguins$body_mass_g, na.rm = TRUE)
```

## ğŸ«µExtraire les statistiques

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `quantile(penguins$body_mass_g, na.rm = TRUE)`

-   `mean(penguins$body_mass_g, na.rm = TRUE)`

-   `median(penguins$body_mass_g, na.rm = TRUE)`

-   `var(penguins$body_mass_g, na.rm = TRUE)`

-   `sd(penguins$body_mass_g, na.rm = TRUE)`

**Que retournent les fonctions `var()` et `sd()` ?**

## âœ…Extraire les statistiques

<br>

```{r}
quantile(penguins$body_mass_g, na.rm = TRUE)
mean(penguins$body_mass_g, na.rm = TRUE)
median(penguins$body_mass_g, na.rm = T)
var(penguins$body_mass_g, na.rm = T)
sd(penguins$body_mass_g, na.rm = T)
```

## ğŸ«µCompter les observations

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `table(penguins$species)`

-   `table(penguins$species, penguins$island)`

-   `table(penguins$species, penguins$island, penguins$sex)`

**Dans quel ordre les diffÃ©rentes catÃ©gories sont-elles affichÃ©es ?**

## âœ…Compter les observations

<br>

```{r}
table(penguins$species)
```

```{r}
table(penguins$species, penguins$island)
```

## âœ…Compter les observations

<br>

![](img/r_intro_14v.png){fig-align="center"}

## ğŸ«µAfficher la sortie d'une assignation

<br>

Dans le script, taper et exÃ©cuter la commande suivante :

-   `penguins_count <- table(penguins$species, penguins$island)`

-   `penguins_count`

Pour exÃ©cuter une commande et afficher la sortie, entourer la commande par des parenthÃ¨ses `(` et `)` :

`(penguins_count <- table(penguins$species, penguins$island))`

Dans le script, ne conserver que la commande avec les parenthÃ¨ses.

## âœ…Afficher la sortie d'une assignation

<br>

![](img/r_intro_14w.png){fig-align="center"}

## âš™ï¸Colorer les parenthÃ¨ses

<br>

**Tools â–¶ï¸ Global Options â–¶ï¸ Code â–¶ï¸ Display**

![](img/r_intro_14x.png){fig-align="center"}

## ğŸ«µProportions

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `prop.table(penguins_count)`

-   `prop.table(penguins_count, margin = 1)`

-   `prop.table(penguins_count, margin = 2)`

**Comment les proportions sont-elles calculÃ©es dans chacun des cas ?**

## âœ…Proportions

<br>

![](img/r_intro_14y.png){fig-align="center"}

## âœ…Proportions

<br>

Les proportions du tableau de contingence peuvent Ãªtre calculÃ©es Ã  l'aide des fonctions `sum()`, `rowSums()` et `colSums()` :

```{r}
#| include: false
penguins_count <- table(penguins$species, penguins$island)
```

```{r}
prop.table(penguins_count, margin = NULL)
penguins_count / sum(penguins_count)
```

## âœ…Proportions

<br>

Les proportions du tableau de contingence peuvent Ãªtre calculÃ©es Ã  l'aide des fonctions `sum()`, `rowSums()` et `colSums()` :

```{r}
prop.table(penguins_count, margin = 1)
penguins_count / rowSums(penguins_count)
```

## âœ…Proportions

<br>

Les proportions du tableau de contingence peuvent Ãªtre calculÃ©es Ã  l'aide des fonctions `sum()`, `rowSums()` et `colSums()` :

```{r}
prop.table(penguins_count, margin = 2)
penguins_count / colSums(penguins_count)
```

## ğŸ«µArrondir des valeurs numÃ©riques

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `round(prop.table(penguins_count))`

-   `round(prop.table(penguins_count), digits = 2)`

-   `floor(prop.table(penguins_count))`

-   `ceiling(prop.table(penguins_count))`

**Quelles sont les diffÃ©rences entre ces commandes ?**

## âœ…Arrondir des valeurs numÃ©riques

<br>

```{r}
#| include: false
penguins_count <- table(penguins$species, penguins$island)
```

```{r}
prop.table(penguins_count)
round(prop.table(penguins_count))
round(prop.table(penguins_count), digits = 2)
```

## âœ…Arrondir des valeurs numÃ©riques

<br>

```{r}
prop.table(penguins_count)
floor(prop.table(penguins_count))
ceiling(prop.table(penguins_count))
```

## â“Correspondance "explicite" et "implicite"

<br>

Les arguments d'une fonction peuvent Ãªtre dÃ©clarÃ©s par :

-   **correspondance explicite (nom + valeur)**

```{r}
#| eval: false
round(x = prop.table(x = penguins_count), digits = 2)
```

-   **correspondance implicite (valeur)**

```{r}
#| eval: false
round(prop.table(penguins_count), 2)
```

## ğŸ«µCorrespondance "explicite" et "implicite"

<br>

Dans la console, taper et exÃ©cuter les commandes suivantes :

-   `log(x = 16, base = 2)`

-   `log(x = 16, 2)`

-   `log(16, base = 2)`

-   `log(16, 2)`

-   `log(2, 16)`

**Que remarquez-vous ?**

## âœ…Correspondance "explicite" et "implicite"

<br>

```{r}
log(x = 16, base = 2)
log(x = 16, 2)
log(16, base = 2)
log(16, 2)
log(2, 16)
```

::: {.callout-caution appearance="simple"}
Dans une dÃ©claration **implicite**, l'**ordre** des valeurs des arguments est dÃ©terminant.
:::

## ğŸ«µExporter des donnÃ©es

<br>

Dans le script, taper et exÃ©cuter la commande suivante :

```{r}
#| eval: false
write.csv(x = penguins_count, 
          file = "04_results/penguins_count.csv")
```

VÃ©rifier que `write.csv()` a bien fonctionnÃ© en tapant et en exÃ©cutant la commande suivante dans la console :

```{r}
#| eval: false
read.csv(file = "04_results/penguins_count.csv")
```

Pour Ã©viter l'ajout d"un `X` comme titre de la 1^Ã¨re^ colonne lors de l'importation, utiliser la commande suivante dans la console :

```{r}
#| eval: false
read.csv(file = "04_results/penguins_count.csv",
         col.names = c("Species", "Biscoe", "Dream", "Torgersen"))
```

## âœ…Exporter des donnÃ©es

<br>

![](img/r_intro_14z.png){fig-align="center"}
